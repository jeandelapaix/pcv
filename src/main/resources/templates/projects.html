<!DOCTYPE html>
<html xmlns:th="http://w3.org/1999/xhtml">

<head th:replace="common/header :: common-header">
<title>Page titles</title>
</head>


<body>
	<div class="overlay"></div>
	<nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right"
		id="cbp-spmenu-s1"></nav>
	<main class="page-content content-wrap">

	<div th:replace="common/header :: common-navbar" class="navbar"></div>
	<!-- Navbar -->

	<div th:replace="common/header :: common-sidebar"></div>
	<!-- Sidebar -->

	<div class="page-inner">

		<div class="page-title">
			<h3>HOME</h3>
			<div class="page-breadcrumb">
				<ol class="breadcrumb">
					<li><a href="#">Create</a></li>
					<li class="active">Project</li>
				</ol>
			</div>
		</div>
		<div id="main-wrapper">
			<div id="main-wrapper">
				<div class="row">
					<div class="panel panel-white">
						<div class="panel-body">
							<h3>Project list</h3>
							<div class="table-responsive">
								<table id="example" class="display table"
									style="width: 100%; cellspacing: 0;">
									<thead>
										<tr>
											<th>Name</th>
											<th>Project Owner</th>
											<th>Starting date</th>
											<th>Remaining days</th>
											<th>Action</th>

										</tr>
									</thead>
									<tbody>
										<tr th:each="list :${projectList}">
											<td ><a th:href="@{/project/view/details(projectId= ${list.id})}" th:text="${list.name}"></a></td>
											<td th:text="${list.owner}"></td>
											<td th:text="${list.startTime}"></td>
											<td th:text="${list.duration}">---</td>

											<td>
												<div class="btn-group m-b-sm">
													<button type="button"
														class="btn btn-primary dropdown-toggle"
														data-toggle="dropdown" aria-expanded="false">
														Action <span class="caret"></span>
													</button>
													<ul class="dropdown-menu" role="menu">
														<li><a th:href="'#edit'+${list.id}"
															data-toggle="modal">Edit</a></li>
														<li><a th:href="'#delete'+${list.id}"
															data-toggle="modal">Delete</a></li>
													</ul>
												</div>
											</td>

											<div class="modal fade bs-example-modal-sm" role="dialog"
												aria-labelledby="mySmallModalLabel"
												th:id="'edit'+${list.id}" aria-hidden="true">
												<div class="modal-dialog modal-md">
													<div class="modal-content">
														<div class="modal-header">
															<button type="button" class="close" data-dismiss="modal"
																aria-label="Close">
																<span aria-hidden="true">&times;</span>
															</button>
															<h4 class="modal-title" id="mySmallModalLabel">Edit
																Project</h4>
														</div>
														<form method="POST" th:action="@{/project/edit}">

															<div class="modal-body">
																<div class="row">


																	<div class="form-group col-md-6">
																		<label for="id">Project ID</label> <input type="text"
																			th:value="${list.id}" id="id" readonly="readonly"
																			name="id" class="form-control" />
																	</div>
																	<div class="form-group col-md-6">
																		<label for="name">Name</label> <input type="text"
																			th:value="${list.name}" name="name"
																			class="form-control" id="name"
																			placeholder="Project Name..." />
																	</div>
<!-- 																	<div class="form-group col-md-6">
																		<label for="name">Owner</label> <input type="text"
																			th:value="${list.owner}" name="owner"
																			class="form-control" id="owner"
																			placeholder="Project owner" />
																	</div> -->
																	<div class="form-group col-md-6">
																		<label for="owner">Project owner</label>
																		<br></br>
																		 <select
																			id="owner" class="form-control" name="owner"
																			th:value="${project.owner}">
																			
																			<option selected="selected" value="">Select
																				owner</option>
																			<option th:each="list : ${userList}"
																				th:value="${list.fname} +' '+${list.lname}"
																				th:text="${list.fname} +' '+${list.lname}"></option>
																		</select>

																	</div>
																	<div class="form-group col-md-6">
																		<label for="datepicker">Start Date</label> <input
																			th:value="${#dates.format(list.startTime, 'dd/MM/yyyy')}"
																			name="startTime" class="form-control date-picker"
																			id="datepicker" readonly="readonly" />

																	</div>

																	<div class="form-group col-md-6">
																		<label for="duration">Duration</label> <input
																			type="number" th:value="${list.duration}"
																			name="duration" class="form-control" id="duration"
																			placeholder="Duartion..." />
																	</div>
																	<div class="form-group col-md-6">
																		<label for="description">Description</label>
																		<textarea rows="4" id="description" name="description"
																			th:text="${list.description}" required="required"
																			class="form-control" placeholder="Description..."></textarea>
																	</div>
																</div>
															</div>
															<div class="modal-footer">
																<button type="button" class="btn btn-default"
																	data-dismiss="modal">Close</button>
																<input type="hidden" name="${_csrf.parameterName}"
																	value="${_csrf.token}" />
																<button type="submit" class="btn btn-success">Save</button>
															</div>
														</form>
													</div>
												</div>
											</div>







											<div class="modal fade bs-example-modal-sm" role="dialog"
												aria-labelledby="mySmallModalLabel"
												th:id="'delete'+${list.id}" aria-hidden="true">
												<div class="modal-dialog modal-sm">
													<div class="modal-content">
														<div class="modal-header">
															<button type="button" class="close" data-dismiss="modal"
																aria-label="Close">
																<span aria-hidden="true">&times;</span>
															</button>
															<h4 class="modal-title" id="mySmallModalLabel"
																th:text="'Are
																you sure you want to delete this project ('+${list.name}+') ??'"></h4>
														</div>
														<form method="POST" th:action="@{/project/delete}">

															<div class="form-group col-sm-6">
																<label for="id"></label><input type="hidden"
																	th:value="${list.id}" id="projectId" name="projectId"
																	readonly="readonly" class="form-control" />
															</div>

															<div class="modal-body">
																<div class="row">
																	<div class="modal-footer">
																		<button type="button" class="btn btn-default"
																			data-dismiss="modal">Cancel</button>
																		<input type="hidden" name="${_csrf.parameterName}"
																			value="${_csrf.token}" />
																		<button type="submit" class="btn btn-danger">Delete</button>
																	</div>
																</div>
															</div>
														</form>
													</div>
												</div>
											</div>






										</tr>
									</tbody>
								</table>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	s <!-- Page Inner --> </main>
	<!-- Page Content -->

	<div class="cd-overlay"></div>

	<div th:replace="common/header :: body-bottom-scripts"></div>
	<!--Start of Tawk.to Script-->
	<script th:inline="javascript">
		/*<![CDATA[*/

		$('#datepicker').datepicker({
			daysOfWeekDisabled : [ 0, 6 ],
			autoclose : true,
		});

		/*]]>*/
	</script>


</body>


</html>